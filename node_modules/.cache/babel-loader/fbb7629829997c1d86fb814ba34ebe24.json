{"ast":null,"code":"var _jsxFileName = \"F:\\\\webDevProjects\\\\reactProj\\\\fitom-final-commit\\\\fitom-micro\\\\src\\\\components\\\\otpcomponents\\\\OtpComponent.js\";\nimport React, { useState } from 'react';\nimport Card from 'react-bootstrap/Card';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport LogNavComponent from '../LogNavComponent';\nimport firebase from '../infocomponents/firebase';\nimport { Link } from 'react-router-dom';\n\nfunction OtpComponent(props) {\n  const [loggedIn, setLogin] = useState(false);\n  setTimeout(function () {\n    window.recaptchaVerifier = new firebase.auth.RecaptchaVerifier('recaptcha-container', {\n      callback: function (response) {\n        submitPhoneNumberAuth();\n      }\n    });\n  }, 2000); // This function runs when the 'sign-in-button' is clicked\n  // Takes the value from the 'phoneNumber' input and sends SMS to that phone number\n\n  function submitPhoneNumberAuth() {\n    var no = document.getElementById('formPhone').value;\n    var phoneNumber = '+91' + no.toString();\n    console.log(phoneNumber);\n    var appVerifier = window.recaptchaVerifier;\n    document.getElementById('verify-text').textContent = 'Verify reCAPTCHA';\n    firebase.auth().signOut().then(function () {\n      console.log('Sign-out successful');\n    }).catch(function (error) {\n      console.log('An error happened');\n    });\n    firebase.auth().signInWithPhoneNumber(phoneNumber, appVerifier).then(function (confirmationResult) {\n      console.log(confirmationResult);\n      window.confirmationResult = confirmationResult;\n      console.log(window);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  } // This function runs when the 'confirm-code' button is clicked\n  // Takes the value from the 'code' input and submits the code to verify the phone number\n  // Return a user object if the authentication was successful, and auth is complete\n\n\n  function submitPhoneNumberAuthCode() {\n    var code = document.getElementById('formCode').value;\n    window.confirmationResult.confirm(code).then(function (result) {\n      var user = result.user;\n      console.log(user);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  firebase.auth().onAuthStateChanged(function (user) {\n    if (user) {\n      console.log('USER LOGGED IN');\n      setLogin(!loggedIn);\n      props.history.push('/booking');\n    } else {\n      // No user is signed in.\n      console.log('USER NOT LOGGED IN');\n      setLogin(loggedIn);\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(LogNavComponent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(Container, {\n    className: \"Login-component\",\n    fluid: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    className: \"pt-5 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    className: \"pt-4 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    className: \"justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: 7,\n    lg: 6,\n    className: \"my-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Card.Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"slogan-1 font-weight-bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 11\n    }\n  }, \"Otp Login\")), /*#__PURE__*/React.createElement(Card.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"formPhone\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }\n  }, \"Phone Number\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"number\",\n    placeholder: \"Phone\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"formCode\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }\n  }, \"Verification Code\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"password\",\n    placeholder: \"Code\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Link, {\n    to: \"/login\",\n    style: {\n      textDecoration: 'none',\n      color: 'white'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Text, {\n    className: \"text-muted pt-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 14\n    }\n  }, \"Sign In with Email\"))), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"verify-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 12\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"recaptcha-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 12\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    variant: \"primary\",\n    id: \"signButton\",\n    className: \"mt-3\",\n    onClick: submitPhoneNumberAuth,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 12\n    }\n  }, \"Send Code\"), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"primary\",\n    id: \"confirmButton\",\n    className: \"mt-3 ml-4\",\n    onClick: submitPhoneNumberAuthCode,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }\n  }, \"Sign In\"))))), /*#__PURE__*/React.createElement(Container, {\n    className: \"mt-5 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    className: \"justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: 10,\n    className: \"my-auto \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/register\",\n    style: {\n      textDecoration: 'none',\n      color: 'white'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"slogan-1 text-light text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 13\n    }\n  }, ' ', \"New to FITOM ? Register\", ' ')))))))))));\n}\n\nexport default OtpComponent;","map":{"version":3,"sources":["F:/webDevProjects/reactProj/fitom-final-commit/fitom-micro/src/components/otpcomponents/OtpComponent.js"],"names":["React","useState","Card","Container","Row","Col","Form","Button","LogNavComponent","firebase","Link","OtpComponent","props","loggedIn","setLogin","setTimeout","window","recaptchaVerifier","auth","RecaptchaVerifier","callback","response","submitPhoneNumberAuth","no","document","getElementById","value","phoneNumber","toString","console","log","appVerifier","textContent","signOut","then","catch","error","signInWithPhoneNumber","confirmationResult","submitPhoneNumberAuthCode","code","confirm","result","user","onAuthStateChanged","history","push","textDecoration","color"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport Card from 'react-bootstrap/Card';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Button from 'react-bootstrap/Button';\r\nimport LogNavComponent from '../LogNavComponent';\r\nimport firebase from '../infocomponents/firebase';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction OtpComponent(props) {\r\n\tconst [ loggedIn, setLogin ] = useState(false);\r\n\r\n\tsetTimeout(function() {\r\n\t\twindow.recaptchaVerifier = new firebase.auth.RecaptchaVerifier('recaptcha-container', {\r\n\t\t\tcallback: function(response) {\r\n\t\t\t\tsubmitPhoneNumberAuth();\r\n\t\t\t}\r\n\t\t});\r\n\t}, 2000);\r\n\r\n\t// This function runs when the 'sign-in-button' is clicked\r\n\t// Takes the value from the 'phoneNumber' input and sends SMS to that phone number\r\n\tfunction submitPhoneNumberAuth() {\r\n\t\tvar no = document.getElementById('formPhone').value;\r\n\t\tvar phoneNumber = '+91' + no.toString();\r\n\t\tconsole.log(phoneNumber);\r\n\t\tvar appVerifier = window.recaptchaVerifier;\r\n\t\tdocument.getElementById('verify-text').textContent = 'Verify reCAPTCHA';\r\n\t\tfirebase\r\n\t\t\t.auth()\r\n\t\t\t.signOut()\r\n\t\t\t.then(function() {\r\n\t\t\t\tconsole.log('Sign-out successful');\r\n\t\t\t})\r\n\t\t\t.catch(function(error) {\r\n\t\t\t\tconsole.log('An error happened');\r\n\t\t\t});\r\n\t\tfirebase\r\n\t\t\t.auth()\r\n\t\t\t.signInWithPhoneNumber(phoneNumber, appVerifier)\r\n\t\t\t.then(function(confirmationResult) {\r\n\t\t\t\tconsole.log(confirmationResult);\r\n\t\t\t\twindow.confirmationResult = confirmationResult;\r\n\t\t\t\tconsole.log(window);\r\n\t\t\t})\r\n\t\t\t.catch(function(error) {\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t});\r\n\t}\r\n\r\n\t// This function runs when the 'confirm-code' button is clicked\r\n\t// Takes the value from the 'code' input and submits the code to verify the phone number\r\n\t// Return a user object if the authentication was successful, and auth is complete\r\n\tfunction submitPhoneNumberAuthCode() {\r\n\t\tvar code = document.getElementById('formCode').value;\r\n\t\twindow.confirmationResult\r\n\t\t\t.confirm(code)\r\n\t\t\t.then(function(result) {\r\n\t\t\t\tvar user = result.user;\r\n\t\t\t\tconsole.log(user);\r\n\t\t\t})\r\n\t\t\t.catch(function(error) {\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t});\r\n\t}\r\n\tfirebase.auth().onAuthStateChanged(function(user) {\r\n\t\tif (user) {\r\n\t\t\tconsole.log('USER LOGGED IN');\r\n\t\t\tsetLogin(!loggedIn);\r\n\t\t\tprops.history.push('/booking');\r\n\t\t} else {\r\n\t\t\t// No user is signed in.\r\n\t\t\tconsole.log('USER NOT LOGGED IN');\r\n\t\t\tsetLogin(loggedIn);\r\n\t\t}\r\n\t});\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<LogNavComponent />\r\n\t\t\t<Container className=\"Login-component\" fluid>\r\n\t\t\t\t<Container className=\"pt-5 \">\r\n\t\t\t\t\t<Container className=\"pt-4 \">\r\n\t\t\t\t\t\t<Row className=\"justify-content-center\">\r\n\t\t\t\t\t\t\t<Col md={7} lg={6} className=\"my-auto\">\r\n\t\t\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t\t\t<Card.Header>\r\n\t\t\t\t\t\t\t\t\t\t<h3 className=\"slogan-1 font-weight-bold\">Otp Login</h3>\r\n\t\t\t\t\t\t\t\t\t</Card.Header>\r\n\t\t\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Group controlId=\"formPhone\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Phone Number</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"number\" placeholder=\"Phone\" />\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Group controlId=\"formCode\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Verification Code</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"password\" placeholder=\"Code\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Link to=\"/login\" style={{ textDecoration: 'none', color: 'white' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Text className=\"text-muted pt-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tSign In with Email\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t<div id=\"verify-text\" />\r\n\t\t\t\t\t\t\t\t\t\t\t<div id=\"recaptcha-container\" />\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"signButton\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"mt-3\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={submitPhoneNumberAuth}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tSend Code\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"confirmButton\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"mt-3 ml-4\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={submitPhoneNumberAuthCode}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tSign In\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t<Container className=\"mt-5 \">\r\n\t\t\t\t\t\t\t\t\t<Row className=\"justify-content-center\">\r\n\t\t\t\t\t\t\t\t\t\t<Col md={10} className=\"my-auto \">\r\n\t\t\t\t\t\t\t\t\t\t\t<Link to=\"/register\" style={{ textDecoration: 'none', color: 'white' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<h4 className=\"slogan-1 text-light text-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tNew to FITOM ? Register{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t</Container>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</Container>\r\n\t\t\t\t</Container>\r\n\t\t\t</Container>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default OtpComponent;\r\n"]},"metadata":{},"sourceType":"module"}