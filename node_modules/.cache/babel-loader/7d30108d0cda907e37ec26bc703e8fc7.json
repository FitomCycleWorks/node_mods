{"ast":null,"code":"var _jsxFileName = \"F:\\\\webDevProjects\\\\reactProj\\\\fitom-final-commit\\\\fitom-micro\\\\src\\\\components\\\\userdashboardcomponents\\\\DashboardBodyComponent.js\";\nimport React, { useState } from 'react';\nimport Card from 'react-bootstrap/Card';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport firebase from '../infocomponents/firebase';\nimport { BrowserRouter as Router, Switch, Route, Link } from 'react-router-dom';\nimport BlankComponent from './BlankComponent';\nimport FillPersonalComponent from './FillPersonalComponent';\nimport FillAddressComponent from './FillAddressComponent';\nimport FillHistoryComonent from './FillHistoryComponent';\n\nfunction DashboardBodyComponent() {\n  const [userName, setUser] = useState('LOGIN');\n  const [firstName, setFName] = useState(' ');\n  const [userId, setUID] = useState(' ');\n  const [lastname, setLName] = useState(' ');\n  const [email, setEmail] = useState(' ');\n  const [phone, setPhone] = useState(' ');\n  const [address, setAddress] = useState(' ');\n  const [pin, setPin] = useState(' ');\n  const [city, setCity] = useState(' ');\n  const [state, setState] = useState(' ');\n  const [noPersonalInfo, setPInfo] = useState(true);\n  const [noAddressInfo, setAInfo] = useState(true);\n  const [openUserEdit, setUserEdit] = useState(false);\n  const [openAddEdit, setAddEdit] = useState(false);\n  const [loginStatus, setStatus] = useState('');\n\n  function signOutUser() {\n    firebase.auth().signOut().then(function () {\n      console.log('Sign-out successful');\n    }).catch(function (error) {\n      console.log('An error happened');\n    });\n  }\n\n  firebase.auth().onAuthStateChanged(function (resultUser) {\n    if (resultUser) {\n      console.log('USER LOGGED IN');\n      setStatus('SignOut');\n      let user = resultUser.email;\n      if (user != null) setUser(`${user.substr(0, user.indexOf('@'))}`);else setUser(`Hi, ${resultUser.phoneNumber}`);\n      setUID(resultUser.uid);\n      firebase.firestore().collection('userDetailsPersonal').doc(userId).get().then(doc => {\n        const data = doc.data();\n        console.log(data); // object with key-value pair\n\n        setFName(data.firstName);\n        setEmail(data.emailAddress);\n        setPhone(data.phone);\n        setLName(data.lastName);\n      });\n      firebase.firestore().collection('userAddress').doc(userId).get().then(doc => {\n        const data = doc.data();\n        console.log(data); // object with key-value pair\n\n        setAddress(data.address);\n        setPin(data.pin);\n        setCity(data.city);\n        setState(data.state);\n      });\n    } else {\n      // No user is signed in.\n      console.log('USER NOT LOGGED IN');\n      setUser('LOGIN');\n      setStatus('');\n    }\n  });\n\n  function onHandleEditPersonal() {\n    setUserEdit(true);\n    setAddEdit(false);\n  }\n\n  function onHandleEditAddress() {\n    setAddEdit(true);\n    setUserEdit();\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    className: \"text-center  mb-5 \",\n    border: \"dark\",\n    bg: \"transparent\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Card.Header, {\n    className: \"slogan-1 display-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 8\n    }\n  }, \"Dashboard User\"), /*#__PURE__*/React.createElement(Card.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    bg: \"transparent\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(Card.Header, {\n    className: \"slogan-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 14\n    }\n  }, \"Personal\")), /*#__PURE__*/React.createElement(Card.Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Card.Footer, {\n    className: \"text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-outline-dark \",\n    onClick: onHandleEditPersonal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 14\n    }\n  }, \"Edit Details\")))), /*#__PURE__*/React.createElement(Col, {\n    md: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    bg: \"transparent\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(Card.Header, {\n    className: \"slogan-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 14\n    }\n  }, \"Address\")), /*#__PURE__*/React.createElement(Card.Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Card.Footer, {\n    className: \"text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-outline-dark \",\n    onClick: onHandleEditAddress,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 14\n    }\n  }, \"Edit Details\"))))))), /*#__PURE__*/React.createElement(Card.Footer, {\n    className: \"text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(Card.Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    className: \"text-dark slogan-1\",\n    to: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 10\n    }\n  }, \"FitOM Technologies\"))))))), /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 6\n    }\n  }, openUserEdit ? /*#__PURE__*/React.createElement(FillPersonalComponent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 23\n    }\n  }) : /*#__PURE__*/React.createElement(BlankComponent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 51\n    }\n  }), openAddEdit ? /*#__PURE__*/React.createElement(FillAddressComponent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 22\n    }\n  }) : /*#__PURE__*/React.createElement(BlankComponent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 49\n    }\n  })))), /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(FillHistoryComonent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 7\n    }\n  })))));\n}\n\nexport default DashboardBodyComponent;","map":{"version":3,"sources":["F:/webDevProjects/reactProj/fitom-final-commit/fitom-micro/src/components/userdashboardcomponents/DashboardBodyComponent.js"],"names":["React","useState","Card","Container","Row","Col","firebase","BrowserRouter","Router","Switch","Route","Link","BlankComponent","FillPersonalComponent","FillAddressComponent","FillHistoryComonent","DashboardBodyComponent","userName","setUser","firstName","setFName","userId","setUID","lastname","setLName","email","setEmail","phone","setPhone","address","setAddress","pin","setPin","city","setCity","state","setState","noPersonalInfo","setPInfo","noAddressInfo","setAInfo","openUserEdit","setUserEdit","openAddEdit","setAddEdit","loginStatus","setStatus","signOutUser","auth","signOut","then","console","log","catch","error","onAuthStateChanged","resultUser","user","substr","indexOf","phoneNumber","uid","firestore","collection","doc","get","data","emailAddress","lastName","onHandleEditPersonal","onHandleEditAddress"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport Card from 'react-bootstrap/Card';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport firebase from '../infocomponents/firebase';\r\nimport { BrowserRouter as Router, Switch, Route, Link } from 'react-router-dom';\r\nimport BlankComponent from './BlankComponent';\r\nimport FillPersonalComponent from './FillPersonalComponent';\r\nimport FillAddressComponent from './FillAddressComponent';\r\nimport FillHistoryComonent from './FillHistoryComponent';\r\n\r\nfunction DashboardBodyComponent() {\r\n\tconst [ userName, setUser ] = useState('LOGIN');\r\n\tconst [ firstName, setFName ] = useState(' ');\r\n\tconst [ userId, setUID ] = useState(' ');\r\n\tconst [ lastname, setLName ] = useState(' ');\r\n\tconst [ email, setEmail ] = useState(' ');\r\n\tconst [ phone, setPhone ] = useState(' ');\r\n\tconst [ address, setAddress ] = useState(' ');\r\n\tconst [ pin, setPin ] = useState(' ');\r\n\tconst [ city, setCity ] = useState(' ');\r\n\tconst [ state, setState ] = useState(' ');\r\n\tconst [ noPersonalInfo, setPInfo ] = useState(true);\r\n\tconst [ noAddressInfo, setAInfo ] = useState(true);\r\n\tconst [ openUserEdit, setUserEdit ] = useState(false);\r\n\tconst [ openAddEdit, setAddEdit ] = useState(false);\r\n\tconst [ loginStatus, setStatus ] = useState('');\r\n\r\n\tfunction signOutUser() {\r\n\t\tfirebase\r\n\t\t\t.auth()\r\n\t\t\t.signOut()\r\n\t\t\t.then(function() {\r\n\t\t\t\tconsole.log('Sign-out successful');\r\n\t\t\t})\r\n\t\t\t.catch(function(error) {\r\n\t\t\t\tconsole.log('An error happened');\r\n\t\t\t});\r\n\t}\r\n\tfirebase.auth().onAuthStateChanged(function(resultUser) {\r\n\t\tif (resultUser) {\r\n\t\t\tconsole.log('USER LOGGED IN');\r\n\t\t\tsetStatus('SignOut');\r\n\t\t\tlet user = resultUser.email;\r\n\t\t\tif (user != null) setUser(`${user.substr(0, user.indexOf('@'))}`);\r\n\t\t\telse setUser(`Hi, ${resultUser.phoneNumber}`);\r\n\t\t\tsetUID(resultUser.uid);\r\n\t\t\tfirebase.firestore().collection('userDetailsPersonal').doc(userId).get().then((doc) => {\r\n\t\t\t\tconst data = doc.data();\r\n\t\t\t\tconsole.log(data); // object with key-value pair\r\n\t\t\t\tsetFName(data.firstName);\r\n\t\t\t\tsetEmail(data.emailAddress);\r\n\t\t\t\tsetPhone(data.phone);\r\n\t\t\t\tsetLName(data.lastName);\r\n\t\t\t});\r\n\t\t\tfirebase.firestore().collection('userAddress').doc(userId).get().then((doc) => {\r\n\t\t\t\tconst data = doc.data();\r\n\t\t\t\tconsole.log(data); // object with key-value pair\r\n\t\t\t\tsetAddress(data.address);\r\n\t\t\t\tsetPin(data.pin);\r\n\t\t\t\tsetCity(data.city);\r\n\t\t\t\tsetState(data.state);\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\t// No user is signed in.\r\n\t\t\tconsole.log('USER NOT LOGGED IN');\r\n\t\t\tsetUser('LOGIN');\r\n\t\t\tsetStatus('');\r\n\t\t}\r\n\t});\r\n\r\n\tfunction onHandleEditPersonal() {\r\n\t\tsetUserEdit(true);\r\n\t\tsetAddEdit(false);\r\n\t}\r\n\tfunction onHandleEditAddress() {\r\n\t\tsetAddEdit(true);\r\n\t\tsetUserEdit();\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Container>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Card className=\"text-center  mb-5 \" border=\"dark\" bg=\"transparent\">\r\n\t\t\t\t\t\t\t<Card.Header className=\"slogan-1 display-4\">Dashboard User</Card.Header>\r\n\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t<Container>\r\n\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t<Col md={6}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Card bg=\"transparent\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Card.Header className=\"slogan-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h4>Personal</h4>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Card.Header>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Card.Text />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Card.Footer className=\"text-muted\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-dark \"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={onHandleEditPersonal}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tEdit Details\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Card.Footer>\r\n\t\t\t\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t<Col md={6}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Card bg=\"transparent\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Card.Header className=\"slogan-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h4>Address</h4>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Card.Header>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Card.Text />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Card.Footer className=\"text-muted\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-dark \"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={onHandleEditAddress}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tEdit Details\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Card.Footer>\r\n\t\t\t\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t</Container>\r\n\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t\t<Card.Footer className=\"text-muted\">\r\n\t\t\t\t\t\t\t\t<Card.Text>\r\n\t\t\t\t\t\t\t\t\t<Link className=\"text-dark slogan-1\" to=\"/\">\r\n\t\t\t\t\t\t\t\t\t\tFitOM Technologies\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</Card.Text>\r\n\t\t\t\t\t\t\t</Card.Footer>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</Container>\r\n\t\t\t<Container>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t{openUserEdit ? <FillPersonalComponent /> : <BlankComponent />}\r\n\t\t\t\t\t\t{openAddEdit ? <FillAddressComponent /> : <BlankComponent />}\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</Container>\r\n\t\t\t<Container>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<FillHistoryComonent />\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</Container>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default DashboardBodyComponent;\r\n"]},"metadata":{},"sourceType":"module"}