{"ast":null,"code":"var _jsxFileName = \"F:\\\\webDevProjects\\\\reactProj\\\\fitom-final-commit\\\\fitom-micro\\\\src\\\\components\\\\userdashboardcomponents\\\\FillHistoryComponent.js\";\nimport React, { useState, useEffect } from 'react';\nimport Card from 'react-bootstrap/Card';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport firebase from '../infocomponents/firebase';\n\nfunction FillHistoryComponent() {\n  const [noHistory, setHistory] = useState(true);\n  const [userId, setUID] = useState(' ');\n  const historyData = document.querySelector('#historyList');\n  firebase.auth().onAuthStateChanged(function (resultUser) {\n    setUID(resultUser.uid);\n  });\n\n  function renderHistory(doc) {\n    let li = document.createElement('li');\n    let transactionId = document.createElement('span');\n    let shopName = document.createElement('span');\n    let date = document.createElement('span');\n    let totalAmount = document.createElement('span');\n    let modeOfPayment = document.createElement('span');\n    li.setAttribute('data-id', doc.id);\n    transactionId.textContent = doc.data().transactionId;\n    shopName.textContent = doc.data().shopName;\n    date.textContent = doc.data().date;\n    totalAmount.textContent = doc.data().totalAmount;\n    modeOfPayment.textContent = doc.data().modeOfPayment;\n    li.appendChild(transactionId);\n    li.appendChild(shopName);\n    li.appendChild(date);\n    li.appendChild(totalAmount);\n    li.appendChild(modeOfPayment);\n    historyData.appendChild(li);\n  }\n\n  firebase.firestore().collection('approvedOrders').doc(userId).collection('invoice').get().then(querySnapshot => {\n    querySnapshot.docs.forEach(doc => {\n      renderHistory(doc);\n    });\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    bg: \"transparent\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Card.Header, {\n    className: \"slogan-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 6\n    }\n  }, \"History\")), /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"historyList\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 8\n    }\n  }))))));\n}\n\nexport default FillHistoryComponent;","map":{"version":3,"sources":["F:/webDevProjects/reactProj/fitom-final-commit/fitom-micro/src/components/userdashboardcomponents/FillHistoryComponent.js"],"names":["React","useState","useEffect","Card","Container","Row","Col","firebase","FillHistoryComponent","noHistory","setHistory","userId","setUID","historyData","document","querySelector","auth","onAuthStateChanged","resultUser","uid","renderHistory","doc","li","createElement","transactionId","shopName","date","totalAmount","modeOfPayment","setAttribute","id","textContent","data","appendChild","firestore","collection","get","then","querySnapshot","docs","forEach"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,IAAP,MAAiB,sBAAjB;AACA,OAAOC,SAAP,MAAsB,2BAAtB;AACA,OAAOC,GAAP,MAAgB,qBAAhB;AACA,OAAOC,GAAP,MAAgB,qBAAhB;AACA,OAAOC,QAAP,MAAqB,4BAArB;;AAEA,SAASC,oBAAT,GAAgC;AAC/B,QAAM,CAAEC,SAAF,EAAaC,UAAb,IAA4BT,QAAQ,CAAC,IAAD,CAA1C;AACA,QAAM,CAAEU,MAAF,EAAUC,MAAV,IAAqBX,QAAQ,CAAC,GAAD,CAAnC;AACA,QAAMY,WAAW,GAAGC,QAAQ,CAACC,aAAT,CAAuB,cAAvB,CAApB;AAEAR,EAAAA,QAAQ,CAACS,IAAT,GAAgBC,kBAAhB,CAAmC,UAASC,UAAT,EAAqB;AACvDN,IAAAA,MAAM,CAACM,UAAU,CAACC,GAAZ,CAAN;AACA,GAFD;;AAIA,WAASC,aAAT,CAAuBC,GAAvB,EAA4B;AAC3B,QAAIC,EAAE,GAAGR,QAAQ,CAACS,aAAT,CAAuB,IAAvB,CAAT;AACA,QAAIC,aAAa,GAAGV,QAAQ,CAACS,aAAT,CAAuB,MAAvB,CAApB;AACA,QAAIE,QAAQ,GAAGX,QAAQ,CAACS,aAAT,CAAuB,MAAvB,CAAf;AACA,QAAIG,IAAI,GAAGZ,QAAQ,CAACS,aAAT,CAAuB,MAAvB,CAAX;AACA,QAAII,WAAW,GAAGb,QAAQ,CAACS,aAAT,CAAuB,MAAvB,CAAlB;AACA,QAAIK,aAAa,GAAGd,QAAQ,CAACS,aAAT,CAAuB,MAAvB,CAApB;AAEAD,IAAAA,EAAE,CAACO,YAAH,CAAgB,SAAhB,EAA2BR,GAAG,CAACS,EAA/B;AACAN,IAAAA,aAAa,CAACO,WAAd,GAA4BV,GAAG,CAACW,IAAJ,GAAWR,aAAvC;AACAC,IAAAA,QAAQ,CAACM,WAAT,GAAuBV,GAAG,CAACW,IAAJ,GAAWP,QAAlC;AACAC,IAAAA,IAAI,CAACK,WAAL,GAAmBV,GAAG,CAACW,IAAJ,GAAWN,IAA9B;AACAC,IAAAA,WAAW,CAACI,WAAZ,GAA0BV,GAAG,CAACW,IAAJ,GAAWL,WAArC;AACAC,IAAAA,aAAa,CAACG,WAAd,GAA4BV,GAAG,CAACW,IAAJ,GAAWJ,aAAvC;AACAN,IAAAA,EAAE,CAACW,WAAH,CAAeT,aAAf;AACAF,IAAAA,EAAE,CAACW,WAAH,CAAeR,QAAf;AACAH,IAAAA,EAAE,CAACW,WAAH,CAAeP,IAAf;AACAJ,IAAAA,EAAE,CAACW,WAAH,CAAeN,WAAf;AACAL,IAAAA,EAAE,CAACW,WAAH,CAAeL,aAAf;AAEAf,IAAAA,WAAW,CAACoB,WAAZ,CAAwBX,EAAxB;AACA;;AAEDf,EAAAA,QAAQ,CAAC2B,SAAT,GAAqBC,UAArB,CAAgC,gBAAhC,EAAkDd,GAAlD,CAAsDV,MAAtD,EAA8DwB,UAA9D,CAAyE,SAAzE,EAAoFC,GAApF,GAA0FC,IAA1F,CAAgGC,aAAD,IAAmB;AACjHA,IAAAA,aAAa,CAACC,IAAd,CAAmBC,OAAnB,CAA4BnB,GAAD,IAAS;AACnCD,MAAAA,aAAa,CAACC,GAAD,CAAb;AACA,KAFD;AAGA,GAJD;AAMA,sBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAC,aAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC,oBAAC,IAAD,CAAM,MAAN;AAAa,IAAA,SAAS,EAAC,UAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADD,CADD,eAIC,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC;AAAK,IAAA,EAAE,EAAC,aAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,CADD,CADD,CAJD,CADD,CADD;AAgBA;;AAED,eAAeb,oBAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Card from 'react-bootstrap/Card';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport firebase from '../infocomponents/firebase';\r\n\r\nfunction FillHistoryComponent() {\r\n\tconst [ noHistory, setHistory ] = useState(true);\r\n\tconst [ userId, setUID ] = useState(' ');\r\n\tconst historyData = document.querySelector('#historyList');\r\n\r\n\tfirebase.auth().onAuthStateChanged(function(resultUser) {\r\n\t\tsetUID(resultUser.uid);\r\n\t});\r\n\r\n\tfunction renderHistory(doc) {\r\n\t\tlet li = document.createElement('li');\r\n\t\tlet transactionId = document.createElement('span');\r\n\t\tlet shopName = document.createElement('span');\r\n\t\tlet date = document.createElement('span');\r\n\t\tlet totalAmount = document.createElement('span');\r\n\t\tlet modeOfPayment = document.createElement('span');\r\n\r\n\t\tli.setAttribute('data-id', doc.id);\r\n\t\ttransactionId.textContent = doc.data().transactionId;\r\n\t\tshopName.textContent = doc.data().shopName;\r\n\t\tdate.textContent = doc.data().date;\r\n\t\ttotalAmount.textContent = doc.data().totalAmount;\r\n\t\tmodeOfPayment.textContent = doc.data().modeOfPayment;\r\n\t\tli.appendChild(transactionId);\r\n\t\tli.appendChild(shopName);\r\n\t\tli.appendChild(date);\r\n\t\tli.appendChild(totalAmount);\r\n\t\tli.appendChild(modeOfPayment);\r\n\r\n\t\thistoryData.appendChild(li);\r\n\t}\r\n\r\n\tfirebase.firestore().collection('approvedOrders').doc(userId).collection('invoice').get().then((querySnapshot) => {\r\n\t\tquerySnapshot.docs.forEach((doc) => {\r\n\t\t\trenderHistory(doc);\r\n\t\t});\r\n\t});\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Card bg=\"transparent\">\r\n\t\t\t\t<Card.Header className=\"slogan-1\">\r\n\t\t\t\t\t<h4>History</h4>\r\n\t\t\t\t</Card.Header>\r\n\t\t\t\t<Container>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<div id=\"historyList\" />\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Container>\r\n\t\t\t</Card>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default FillHistoryComponent;\r\n"]},"metadata":{},"sourceType":"module"}