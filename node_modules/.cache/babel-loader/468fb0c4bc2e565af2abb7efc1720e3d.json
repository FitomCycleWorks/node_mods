{"ast":null,"code":"var _jsxFileName = \"F:\\\\webDevProjects\\\\reactProj\\\\fitom-final-commit\\\\fitom-micro\\\\src\\\\components\\\\otpcomponents\\\\OtpComponent.js\";\nimport React, { useState } from 'react';\nimport Card from 'react-bootstrap/Card';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport LogNavComponent from '../LogNavComponent';\nimport firebase from '../infocomponents/firebase';\nimport { Link } from 'react-router-dom';\nsetTimeout(function () {\n  window.recaptchaVerifier = new firebase.auth.RecaptchaVerifier('recaptcha-container', {\n    callback: function (response) {\n      submitPhoneNumberAuth();\n    }\n  });\n  window.recaptchaVerifier.render().then(function (widgetId) {\n    window.recaptchaWidgetId = widgetId;\n  });\n}, 2000); // This function runs when the 'sign-in-button' is clicked\n// Takes the value from the 'phoneNumber' input and sends SMS to that phone number\n\nfunction submitPhoneNumberAuth() {\n  var no = document.getElementById('formPhone').value;\n  var phoneNumber = '+91' + no.toString();\n  console.log(phoneNumber);\n  var appVerifier = window.recaptchaVerifier;\n  document.getElementById('verify-text').textContent = 'Verify reCAPTCHA';\n  firebase.auth().signOut().then(function () {\n    console.log('Sign-out successful');\n  }).catch(function (error) {\n    console.log('An error happened');\n  });\n  firebase.auth().signInWithPhoneNumber(phoneNumber, appVerifier).then(function (confirmationResult) {\n    console.log(confirmationResult);\n    window.confirmationResult = confirmationResult;\n    console.log(window);\n  }).catch(function (error) {\n    console.log(error);\n  });\n} // This function runs when the 'confirm-code' button is clicked\n// Takes the value from the 'code' input and submits the code to verify the phone number\n// Return a user object if the authentication was successful, and auth is complete\n\n\nfunction submitPhoneNumberAuthCode() {\n  var code = document.getElementById('formCode').value;\n  window.confirmationResult.confirm(code).then(function (result) {\n    var user = result.user;\n    console.log(user);\n  }).catch(function (error) {\n    console.log(error);\n  });\n}\n\nfunction OtpComponent(props) {\n  firebase.auth().onAuthStateChanged(function (user) {\n    if (user) {\n      console.log('USER LOGGED IN');\n      setLogin(!loggedIn);\n      props.history.push('/booking');\n    } else {\n      // No user is signed in.\n      console.log('USER NOT LOGGED IN');\n      setLogin(loggedIn);\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(LogNavComponent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(Container, {\n    className: \"Login-component\",\n    fluid: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    className: \"pt-5 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    className: \"pt-4 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    className: \"justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: 7,\n    lg: 6,\n    className: \"my-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Card.Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"slogan-1 font-weight-bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 11\n    }\n  }, \"Otp Login\")), /*#__PURE__*/React.createElement(Card.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"formPhone\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }\n  }, \"Phone Number\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"number\",\n    placeholder: \"Phone\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"formCode\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }\n  }, \"Verification Code\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"password\",\n    placeholder: \"Code\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Link, {\n    to: \"/login\",\n    style: {\n      textDecoration: 'none',\n      color: 'white'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Text, {\n    className: \"text-muted pt-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 14\n    }\n  }, \"Sign In with Email\"))), /*#__PURE__*/React.createElement(\"small\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"verify-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"recaptcha-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 12\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    variant: \"primary\",\n    id: \"signButton\",\n    className: \"mt-3\",\n    onClick: submitPhoneNumberAuth,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 12\n    }\n  }, \"Send Code\"), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"primary\",\n    id: \"confirmButton\",\n    className: \"mt-3 ml-4\",\n    onClick: submitPhoneNumberAuthCode,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 13\n    }\n  }, \"Sign In\"))))), /*#__PURE__*/React.createElement(Container, {\n    className: \"mt-3 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    className: \"justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: 10,\n    className: \"my-auto \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/register\",\n    style: {\n      textDecoration: 'none',\n      color: 'white'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"slogan-1 text-light text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 13\n    }\n  }, ' ', \"New to FITOM ? Register\", ' ')))))))))));\n}\n\nexport default OtpComponent;","map":{"version":3,"sources":["F:/webDevProjects/reactProj/fitom-final-commit/fitom-micro/src/components/otpcomponents/OtpComponent.js"],"names":["React","useState","Card","Container","Row","Col","Form","Button","LogNavComponent","firebase","Link","setTimeout","window","recaptchaVerifier","auth","RecaptchaVerifier","callback","response","submitPhoneNumberAuth","render","then","widgetId","recaptchaWidgetId","no","document","getElementById","value","phoneNumber","toString","console","log","appVerifier","textContent","signOut","catch","error","signInWithPhoneNumber","confirmationResult","submitPhoneNumberAuthCode","code","confirm","result","user","OtpComponent","props","onAuthStateChanged","setLogin","loggedIn","history","push","textDecoration","color"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport Card from 'react-bootstrap/Card';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Button from 'react-bootstrap/Button';\r\nimport LogNavComponent from '../LogNavComponent';\r\nimport firebase from '../infocomponents/firebase';\r\nimport { Link } from 'react-router-dom';\r\n\r\nsetTimeout(function() {\r\n\twindow.recaptchaVerifier = new firebase.auth.RecaptchaVerifier('recaptcha-container', {\r\n\t\tcallback: function(response) {\r\n\t\t\tsubmitPhoneNumberAuth();\r\n\t\t}\r\n\t});\r\n\twindow.recaptchaVerifier.render().then(function(widgetId) {\r\n\t\twindow.recaptchaWidgetId = widgetId;\r\n\t});\r\n}, 2000);\r\n\r\n// This function runs when the 'sign-in-button' is clicked\r\n// Takes the value from the 'phoneNumber' input and sends SMS to that phone number\r\nfunction submitPhoneNumberAuth() {\r\n\tvar no = document.getElementById('formPhone').value;\r\n\tvar phoneNumber = '+91' + no.toString();\r\n\tconsole.log(phoneNumber);\r\n\tvar appVerifier = window.recaptchaVerifier;\r\n\tdocument.getElementById('verify-text').textContent = 'Verify reCAPTCHA';\r\n\tfirebase\r\n\t\t.auth()\r\n\t\t.signOut()\r\n\t\t.then(function() {\r\n\t\t\tconsole.log('Sign-out successful');\r\n\t\t})\r\n\t\t.catch(function(error) {\r\n\t\t\tconsole.log('An error happened');\r\n\t\t});\r\n\tfirebase\r\n\t\t.auth()\r\n\t\t.signInWithPhoneNumber(phoneNumber, appVerifier)\r\n\t\t.then(function(confirmationResult) {\r\n\t\t\tconsole.log(confirmationResult);\r\n\t\t\twindow.confirmationResult = confirmationResult;\r\n\t\t\tconsole.log(window);\r\n\t\t})\r\n\t\t.catch(function(error) {\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n}\r\n\r\n// This function runs when the 'confirm-code' button is clicked\r\n// Takes the value from the 'code' input and submits the code to verify the phone number\r\n// Return a user object if the authentication was successful, and auth is complete\r\nfunction submitPhoneNumberAuthCode() {\r\n\tvar code = document.getElementById('formCode').value;\r\n\twindow.confirmationResult\r\n\t\t.confirm(code)\r\n\t\t.then(function(result) {\r\n\t\t\tvar user = result.user;\r\n\t\t\tconsole.log(user);\r\n\t\t})\r\n\t\t.catch(function(error) {\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n}\r\n\r\nfunction OtpComponent(props) {\r\n\tfirebase.auth().onAuthStateChanged(function(user) {\r\n\t\tif (user) {\r\n\t\t\tconsole.log('USER LOGGED IN');\r\n\t\t\tsetLogin(!loggedIn);\r\n\t\t\tprops.history.push('/booking');\r\n\t\t} else {\r\n\t\t\t// No user is signed in.\r\n\t\t\tconsole.log('USER NOT LOGGED IN');\r\n\t\t\tsetLogin(loggedIn);\r\n\t\t}\r\n\t});\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<LogNavComponent />\r\n\t\t\t<Container className=\"Login-component\" fluid>\r\n\t\t\t\t<Container className=\"pt-5 \">\r\n\t\t\t\t\t<Container className=\"pt-4 \">\r\n\t\t\t\t\t\t<Row className=\"justify-content-center\">\r\n\t\t\t\t\t\t\t<Col md={7} lg={6} className=\"my-auto\">\r\n\t\t\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t\t\t<Card.Header>\r\n\t\t\t\t\t\t\t\t\t\t<h3 className=\"slogan-1 font-weight-bold\">Otp Login</h3>\r\n\t\t\t\t\t\t\t\t\t</Card.Header>\r\n\t\t\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Group controlId=\"formPhone\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Phone Number</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"number\" placeholder=\"Phone\" />\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Group controlId=\"formCode\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Verification Code</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"password\" placeholder=\"Code\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Link to=\"/login\" style={{ textDecoration: 'none', color: 'white' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Text className=\"text-muted pt-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tSign In with Email\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t<small>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div id=\"verify-text\" />\r\n\t\t\t\t\t\t\t\t\t\t\t</small>\r\n\t\t\t\t\t\t\t\t\t\t\t<div id=\"recaptcha-container\" />\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"signButton\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"mt-3\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={submitPhoneNumberAuth}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tSend Code\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"confirmButton\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"mt-3 ml-4\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={submitPhoneNumberAuthCode}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tSign In\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t<Container className=\"mt-3 \">\r\n\t\t\t\t\t\t\t\t\t<Row className=\"justify-content-center\">\r\n\t\t\t\t\t\t\t\t\t\t<Col md={10} className=\"my-auto \">\r\n\t\t\t\t\t\t\t\t\t\t\t<Link to=\"/register\" style={{ textDecoration: 'none', color: 'white' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<h4 className=\"slogan-1 text-light text-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tNew to FITOM ? Register{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t</Container>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</Container>\r\n\t\t\t\t</Container>\r\n\t\t\t</Container>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default OtpComponent;\r\n"]},"metadata":{},"sourceType":"module"}